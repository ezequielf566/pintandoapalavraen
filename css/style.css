*{box-sizing:border-box}
:root{
  --bg1:#fffdf2; --bg2:#ffe6a7;
  --panel:#fff; --ink:#1f2937; --shadow:0 12px 28px rgba(0,0,0,.12);
  --radius:18px; --accent:#f59e0b;
}
html,body{height:100%}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
  background:linear-gradient(var(--bg1),var(--bg2));
  color:var(--ink);
}
.topbar{display:flex;justify-content:flex-end;padding:12px 16px}
.pill{background:#fff;border:0;border-radius:9999px;padding:8px 14px;box-shadow:var(--shadow);cursor:pointer;display:flex;gap:8px;align-items:center;font-weight:700}

.wrap{max-width:1024px;margin:0 auto;padding:12px;display:flex;flex-direction:column;gap:14px}

/* CORREÇÃO NA STAGE: Adicionado ; e centralização flex */
.stage {
  background:#fff;
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:12px; 
  padding-bottom: 120px;
  box-sizing: border-box;
  text-align: center;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  min-height: 70vh;
}

/* CORREÇÃO NA SVGMOUNT: Altura baseada na tela (vh) em vez de proporção fixa */
.svgMount {
  width:100%;
  height: 70vh;
  max-height: 80vh;
  background:#fff;
  border-radius:14px;
  position:relative;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Ajuste para o SVG interno preencher o container sem sobrar espaço */
.svgMount svg {
  display: block;
  width: auto !important;
  height: auto !important;
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
}

.controls{
  position:fixed;bottom:24px;left:50%;transform:translateX(-50%);
  width:90%;max-width:500px;background:rgba(255,255,255,.9);
  backdrop-filter:blur(8px);padding:16px;border-radius:24px;
  box-shadow:var(--shadow);display:flex;flex-direction:column;gap:12px;
  z-index:100
}
.tools{display:flex;justify-content:space-around;align-items:center}
.btn{background:#eee;border:0;padding:12px;border-radius:14px;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}
.btn:hover{background:#e2e2e2;transform:scale(1.05)}
.btn.active{background:var(--accent);color:#fff}
.btn svg{width:24px;height:24px}

.palette-container {
  width: 100%;
  overflow-x: auto;
  padding-bottom: 8px;
  -webkit-overflow-scrolling: touch;
}
.palette-container::-webkit-scrollbar { height: 4px; }
.palette-container::-webkit-scrollbar-thumb { background: #ccc; border-radius: 4px; }

.palette {
  display: flex;
  gap: 10px;
  width: max-content;
  padding: 4px;
}

.sw {
  flex: 0 0 auto;
  width: 48px; 
  height: 48px;
  max-width: 55px;
  aspect-ratio: 1/1;
  border-radius: 50%;
  border: 3px solid white;
  cursor: pointer;
  padding: 0;
}

.sw.custom {
  border-radius: 8px;
  border: 3px dashed #555;
  position: relative;
}

.sw.custom::after {
  content: "+";
  color: #555;
  font-weight: bold;
  font-size: 14px;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
}

#zoom-in,
#zoom-out {
  background: none !important;
  border: none !important;
  box-shadow: none !important;
  font-size: 28px;
  font-weight: bold;
  color: #333;
  width: auto !important;
  height: auto !important;
  padding: 0 6px;
  cursor: pointer;
}

.zoom-controls {
  display: flex;
  align-items: center;
  gap: 6px;
}

/* Ajuste específico para Celulares para manter seu design original */
@media (max-width:640px){
  .wrap{padding:8px;gap:10px}
  .stage{padding:8px; padding-bottom: 130px;}
  .svgMount { height: auto; aspect-ratio: 3/4; }
  .btn{padding:10px}
  .sw { width: 42px; height: 42px; }
}
